!function(){"use strict";var e,n,t,i,l,a=document.getElementById("gallery"),d=document.getElementById("nav"),s=document.getElementById("modalimage"),o=document.getElementById("title"),m=document.getElementById("addIamge"),c=document.getElementById("collectionDropdown"),g=document.getElementById("newCollection"),r=document.getElementById("modalAlert"),u=document.getElementById("addCollection"),v=document.getElementById("newEmptyCollection"),f=document.getElementById("content"),p=document.getElementById("deleteCollection"),h=["Slides_004","Slides_032","Slides_066","Slides_067","Slides_070","Slides_073","Slides_074","Slides_086","Slides_098","Slides_102","Slides_106","Slides_111","Slides_113","Slides_119","Slides_120","Slides_127","Slides_129","Slides_130","Slides_131","Slides_133"],I=[{setName:"All Images"}],y=function(e,t){t[e].addEventListener("click",function(e){var t=e.target;n=t.parentNode.attributes[0].value;var i='<img src="images/'+n+'.jpg" />';s.innerHTML=i,t.classList.contains("deleteImage")&&l()})},L=function(n){("all"===n||void 0===n)&&(n=h,o.innerHTML+=" ("+h.length+")");var t="";n.map(function(e){t+='<li data-img="'+e+'">',t+="<div></div>",t+='<img class="galleryimg" src="images/'+e+'.jpg" />',t+='<span data-toggle="modal" data-target="#addModal" class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span>',t+='<span class="deleteImage glyphicon glyphicon-minus-sign aria-hidden="true"></span>',t+="</li>"}),a.innerHTML=t,e=a.children;for(var i=0;i<e.length;i++)y(i,e)},S=function(){var e="",n="";I.map(function(t){e+="<li><a>"+t.setName+"</a></li>",n+='<option value="'+t.setName+'">'+t.setName+"</option>"}),c.innerHTML=n,d.innerHTML=e,d.addEventListener("click",function(e){e.preventDefault();var n=[];t=e.target.textContent,o.innerHTML=t,"All Images"===t?(n="all",f.classList.add("allimages")):(I.map(function(e){if(e.setName===t){var i=void 0===e.images?0:e.images.length;if(o.innerHTML+="("+i+")",!e.images)return;e.images.map(function(e){n.push(h[e])})}}),f.classList.remove("allimages")),L(n)})};l=function(){for(var e,i,l=[],a=0;a<I.length;a++)I[a].setName===t&&(e=I[a].images.indexOf(h.indexOf(n)),e>-1&&(I[a].images.splice(e,1),i=I[a].images));i.map(function(e){l.push(h[e])}),o.innerHTML=t+"("+i.length+")",L(l)};var _={addCollection:function(){""!==v.value&&(I.push({setName:v.value,images:[]}),S())},deleteCollection:function(){for(var e,n=0;n<I.length;n++)I[n].setName===t&&(e=I.indexOf(I[n]),e>-1&&I.splice(e,1));f.classList.add("allimages"),L(),S(),o.innerHTML=I[0].setName+" ("+h.length+")"},addImage:function(){"All Images"!==c.value&&""===g.value?I.map(function(e){if(e.setName===c.value){for(var t=0;t<e.images.length;t++)if(e.images[t]===h.indexOf(n))return void(r.innerHTML='<div class="alert alert-warning" role="alert">Image already exist in this collection</div>');$("#addModal").modal("hide"),e.images.push(h.indexOf(n))}}):(I.push({setName:g.value,images:[h.indexOf(n)]}),$("#addModal").modal("hide")),i=setTimeout(function(){r.innerHTML=""},3e3),g.value="",S()}},E=function(){u.addEventListener("click",_.addCollection),m.addEventListener("click",_.addImage),p.addEventListener("click",_.deleteCollection),L(),S()};E()}();